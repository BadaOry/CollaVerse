<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  


<mapper namespace="com.collaverse.mvc.collections.model.dao.CollectionsMapper">

	<resultMap type="com.collaverse.mvc.member.model.vo.Member" id="memberResultMap">
		<id property="no" column="MEMBER_NO"/>
		<result property="role" column="MEMBER_ROLE"/>
		<result property="id" column="ID"/>
		<result property="password" column="PASSWORD"/>
		<result property="email" column="EMAIL"/>
		<result property="phone" column="PHONE"/>
		<result property="nickname" column="NICKNAME"/>
		<result property="profile_img" column="PROFILE_IMG"/>
		<result property="business_no" column="BUSINESS_NO"/>
		<result property="business_name" column="BUSINESS_NAME"/>
		<result property="enrollDate" column="ENROLL_DATE"/>
		<result property="modifyDate" column="MODIFY_DATE"/>
		<result property="status" column="MEMBER_STATUS"/>
		<result property="age" column="MEMBER_AGE"/>
		<result property="gender" column="MEMBER_GENDER"/>
	</resultMap>
	
	<resultMap type="com.collaverse.mvc.collections.model.vo.Collections" id="listResultMap">
		<result property="id" column="ID"/>
		<result property="nickname" column="NICKNAME"/>
		<result property="profile_img" column="PROFILE_IMG"/>
	</resultMap>
		
	<select id="getAllUserIdList" resultMap="listResultMap" resultType="arrayList">
		SELECT ID, NICKNAME, PROFILE_IMG
		FROM MEMBER
	</select>
		 
	<select id="findUserById" parameterType="String" resultMap="listResultMap" resultType="map">
		SELECT ID, NICKNAME, PROFILE_IMG
		FROM MEMBER 
		WHERE ID LIKE '%' || #{ keyword } || '%' 
	</select>
	
	<select id="findUserByNickname" parameterType="String" resultMap="listResultMap" resultType="arrayList">
		SELECT ID, NICKNAME, PROFILE_IMG
		FROM MEMBER 
		WHERE NICKNAME LIKE '%' || #{ keyword } || '%' 
	</select>
	
	
</mapper>
